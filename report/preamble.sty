% inspired by https://github.com/FagKom/Oppgavemal_2
\ProvidesPackage{preamble}
\usepackage{lipsum} % filltext


% \usepackage{ragged2e}
\usepackage[norsk, UKenglish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{bookmark}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Font encoding:
\usepackage[T1]{fontenc}
%\usepackage{lmodern} % font
%\usepackage{bookman} % font
%\usepackage{euler}
\usepackage{csquotes} % quotes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{physics}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% % TIKZ
\usepackage{tikz}
\usepackage{pgfplots}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\usetikzlibrary{quotes,angles}
\usetikzlibrary{babel}
\pgfplotsset{compat=newest}
% \usetikzlibrary{calc}
% \usetikzlibrary{tikzmark}
% \usetikzlibrary{decorations.markings}
% \usetikzlibrary{backgrounds}
% \usetikzlibrary{fadings}
% \pgfplotsset{
%     every axis plot/.append style={line width=1pt},
%     every axis plot post/.append style={
%             every mark/.append style={line width=2pt}
%         }
% }
\pgfplotsset{
    %every axis/.append style={font=\footnotesize},
    %every axis label/.append style={font=\footnotesize},
    every x tick label/.append style = {font=\footnotesize},
    every y tick label/.append style = {font=\footnotesize},
    every axis legend/.append style={font=\footnotesize},
}


\usetikzlibrary{quantikz}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{mathtools}
\usepackage[version=4]{mhchem}
\usepackage{caption}
\captionsetup[figure]{labelfont=bf}
\captionsetup[table]{labelfont=bf, position=top}
\captionsetup{width=0.9\textwidth}
\usepackage{subcaption}
\usepackage{environ}
\usepackage{bm}



% tables
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx} 
\usepackage{multirow}
\usepackage{nicematrix}
\usepackage{tablefootnote}
\usepackage{ragged2e}  % for '\RaggedRight' macro (allows hyphenation)
\usepackage{tabularray}
\UseTblrLibrary{booktabs}
\UseTblrLibrary{amsmath}
% fix the category code problem
\catcode`&=4
% change the quantikz environment
\ExplSyntaxOn\makeatletter

\RenewDocumentEnvironment{quantikz}{O{} +b}
 {
  \tl_set:Nn \l__quantikz_body_tl { \tikzcd@ [#1] #2 }
  \regex_replace_all:nnN { \& } { \cA\& } \l__quantikz_body_tl
  \tl_use:N \l__quantikz_body_tl
  \endtikzcd
 }{}
\tl_new:N \l__quantikz_body_tl

\makeatother\ExplSyntaxOff


% algorithms
\usepackage{algorithm}
\usepackage{algpseudocodex}

% ...
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator{\Ima}{Im}

